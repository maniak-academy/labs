annotations: []
smart_annotations:
  - tag: External
    is_on: true
    padding: 35
    label: External
    tag_offset_x: 0
    tag_offset_y: 0
    tag_size: 14
    group_distance: 400
    thickness: 1
    border_style: ''
    fill_color: '#007A3380'
    border_color: '#00000080'
    z_index: 3
  - tag: Internal
    is_on: true
    padding: 35
    label: Internal
    tag_offset_x: 0
    tag_offset_y: 0
    tag_size: 14
    group_distance: 400
    thickness: 1
    border_style: ''
    fill_color: '#A95FBE80'
    border_color: '#00000080'
    z_index: 5
  - tag: Leafs
    is_on: true
    padding: 35
    label: Leafs
    tag_offset_x: 0
    tag_offset_y: 0
    tag_size: 14
    group_distance: 400
    thickness: 1
    border_style: ''
    fill_color: '#005C9980'
    border_color: '#00000080'
    z_index: 8
  - tag: MGMT
    is_on: true
    padding: 35
    label: MGMT
    tag_offset_x: 0
    tag_offset_y: 0
    tag_size: 14
    group_distance: 400
    thickness: 1
    border_style: ''
    fill_color: '#FFD10080'
    border_color: '#00000080'
    z_index: 7
  - tag: Spine
    is_on: true
    padding: 35
    label: Spine
    tag_offset_x: 0
    tag_offset_y: 0
    tag_size: 14
    group_distance: 400
    thickness: 1
    border_style: ''
    fill_color: '#B7E3D980'
    border_color: '#00000080'
    z_index: 4
nodes:
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n0
    image_definition: null
    label: Unmanaged Switch 01
    node_definition: unmanaged_switch
    parameters: {}
    ram: null
    tags:
      - MGMT
    x: -960
    y: 160
    interfaces:
      - id: i0
        label: port0
        mac_address: null
        slot: 0
        type: physical
      - id: i1
        label: port1
        mac_address: null
        slot: 1
        type: physical
      - id: i2
        label: port2
        mac_address: null
        slot: 2
        type: physical
      - id: i3
        label: port3
        mac_address: null
        slot: 3
        type: physical
      - id: i4
        label: port4
        mac_address: null
        slot: 4
        type: physical
      - id: i5
        label: port5
        mac_address: null
        slot: 5
        type: physical
      - id: i6
        label: port6
        mac_address: null
        slot: 6
        type: physical
      - id: i7
        label: port7
        mac_address: null
        slot: 7
        type: physical
  - boot_disk_size: null
    configuration:
      - name: default
        content: System Bridge
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n1
    image_definition: null
    label: Management Subnet 02
    node_definition: external_connector
    parameters: {}
    ram: null
    tags:
      - MGMT
    x: -960
    y: -80
    interfaces:
      - id: i0
        label: port
        mac_address: null
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n2
    image_definition: f5
    label: F5-BIGIP
    node_definition: f5-bigip-ve
    parameters: {}
    ram: null
    tags:
      - Internal
    x: -360
    y: 160
    interfaces:
      - id: i0
        label: eth0
        mac_address: null
        slot: 0
        type: physical
      - id: i1
        label: eth1
        mac_address: null
        slot: 1
        type: physical
      - id: i2
        label: eth2
        mac_address: null
        slot: 2
        type: physical
      - id: i3
        label: eth3
        mac_address: null
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: iosxe_config.txt
        content: |-
          ! CSR1000v Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          platform console serial
          !
          hostname csr1000v
          boot-start-marker
          boot-end-marker
          !
          !
          license accept end user agreement
          license boot level premium
          !
          !
          no aaa new-model
          !
          !
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          no service config
          enable password cisco
          enable secret cisco
          ip classless
          ip subnet-zero
          no ip domain lookup
          ip domain name virl.info
          crypto key generate rsa modulus 2048
          ip ssh server algorithm authentication password
          username cisco privilege 15 secret cisco
          line vty 0 4
              transport input ssh telnet
              exec-timeout 720 0
              password cisco
              login local
          line con 0
              password cisco
          !
          no cdp run
          !
          !
          interface Loopback0
              description not connected
              no ip address
              shutdown
          interface GigabitEthernet1
              description to port3.Unmanaged Switch 01
              no ip address
              no shutdown
          interface GigabitEthernet2
              description to GigabitEthernet0/0.External FW - ASAv01
              no ip address
              no shutdown
          interface GigabitEthernet3
              description not connected
              no ip address
              shutdown
          interface GigabitEthernet4
              description not connected
              no ip address
              shutdown
          !
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n3
    image_definition: null
    label: CSR1000v
    node_definition: csr1000v
    parameters: {}
    ram: null
    tags:
      - External
    x: -480
    y: -240
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet1
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet2
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet3
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: GigabitEthernet4
        mac_address: null
        slot: 3
        type: physical
  - boot_disk_size: null
    configuration:
      - name: nxos_config.txt
        content: |-
          ! NX-OS 9000 Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          hostname spine1nxos-9000
          vdc spine1nxos-9000 id 1
            allocate interface Ethernet1/1-48
            limit-resource vlan minimum 16 maximum 4094
            limit-resource vrf minimum 2 maximum 4096
            limit-resource port-channel minimum 0 maximum 511
            limit-resource u4route-mem minimum 96 maximum 96
            limit-resource u6route-mem minimum 24 maximum 24
            limit-resource m4route-mem minimum 58 maximum 58
            limit-resource m6route-mem minimum 8 maximum 8

          feature telnet

          no password strength-check
          username adminbackup password 5 ! role network-operator
          username admin password cisco role network-admin
          username cisco password cisco role network-operator
          username cisco role network-admin
          username lab password cisco role network-admin
          ip domain-lookup
          copp profile strict
          snmp-server user lab network-admin auth md5 0x5ceb414591539ee35159fca86fdfa101 priv 0x5ceb414591539ee35159fca86fdfa101 localizedkey
          snmp-server user admin network-admin auth md5 0x328945d53e05e8e7207f8c20b142f0b7 priv 0x328945d53e05e8e7207f8c20b142f0b7 localizedkey
          snmp-server user cisco network-operator auth md5 0x55b3c64a53fb95518e75358ee75e82e9 priv 0x55b3c64a53fb95518e75358ee75e82e9 localizedkey
          snmp-server user cisco network-admin
          rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
          rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
          rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
          rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
          rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO

          vlan 1

          hardware forwarding unicast trace

          interface Loopback0
              description not connected
              shutdown

          interface mgmt0
              description to port1.Unmanaged Switch 01
              no shutdown

          interface Ethernet1/1
              description to Ethernet1/1.Leaf1 NXOS-9000
              no shutdown

          interface Ethernet1/2
              description to Ethernet1/2.Leaf1 NXOS-9000
              no shutdown

          interface Ethernet1/3
              description to Ethernet1/1.Leaf2 NSOX-9000
              no shutdown

          interface Ethernet1/4
              description to Ethernet1/2.Leaf2 NSOX-9000
              no shutdown

          interface Ethernet1/5
              description to Ethernet1/1.Leaf3 NXOS-9000
              no shutdown

          interface Ethernet1/6
              description to Ethernet1/2.Leaf3 NXOS-9000
              no shutdown

          interface Ethernet1/7
              description to Ethernet1/1.Leaf4 NXOS-9000
              no shutdown

          interface Ethernet1/8
              description to Ethernet1/2.Leaf4 NXOS-9000
              no shutdown


          line console
          line vty

          # workaround for booting to loader> prompt
          echo 'from cli import cli' > set_boot.py
          echo 'import json' >> set_boot.py
          echo 'import os' >> set_boot.py
          echo 'import time' >> set_boot.py
          echo 'bootimage = json.loads(cli("show version | json"))["nxos_file_name"]' >> set_boot.py
          echo 'set_boot = cli("conf t ; boot nxos {} ; no event manager applet BOOTCONFIG".format(bootimage))' >> set_boot.py
          echo 'i = 0' >> set_boot.py
          echo 'while i < 10:' >> set_boot.py
          echo '    try:' >> set_boot.py
          echo '        save_config = cli("copy running-config startup-config")' >> set_boot.py
          echo '        break' >> set_boot.py
          echo '    except Exception:' >> set_boot.py
          echo '        i += 1' >> set_boot.py
          echo '        time.sleep(1)' >> set_boot.py
          echo 'os.remove("/bootflash/set_boot.py")' >> set_boot.py
          event manager applet BOOTCONFIG
           event syslog pattern "Configured from vty"
           action 1.0 cli python bootflash:set_boot.py
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n4
    image_definition: null
    label: Spine-01
    node_definition: nxosv9000
    parameters: {}
    ram: 8192
    tags:
      - Spine
    x: -600
    y: -40
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: mgmt0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        mac_address: null
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        mac_address: null
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        mac_address: null
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        mac_address: null
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        mac_address: null
        slot: 8
        type: physical
  - boot_disk_size: null
    configuration:
      - name: nxos_config.txt
        content: |-
          ! NX-OS 9000 Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          hostname spine2nxos-9000
          vdc spine2nxos-9000 id 1
            allocate interface Ethernet1/1-48
            limit-resource vlan minimum 16 maximum 4094
            limit-resource vrf minimum 2 maximum 4096
            limit-resource port-channel minimum 0 maximum 511
            limit-resource u4route-mem minimum 96 maximum 96
            limit-resource u6route-mem minimum 24 maximum 24
            limit-resource m4route-mem minimum 58 maximum 58
            limit-resource m6route-mem minimum 8 maximum 8

          feature telnet

          no password strength-check
          username adminbackup password 5 ! role network-operator
          username admin password cisco role network-admin
          username cisco password cisco role network-operator
          username cisco role network-admin
          username lab password cisco role network-admin
          ip domain-lookup
          copp profile strict
          snmp-server user lab network-admin auth md5 0x5ceb414591539ee35159fca86fdfa101 priv 0x5ceb414591539ee35159fca86fdfa101 localizedkey
          snmp-server user admin network-admin auth md5 0x328945d53e05e8e7207f8c20b142f0b7 priv 0x328945d53e05e8e7207f8c20b142f0b7 localizedkey
          snmp-server user cisco network-operator auth md5 0x55b3c64a53fb95518e75358ee75e82e9 priv 0x55b3c64a53fb95518e75358ee75e82e9 localizedkey
          snmp-server user cisco network-admin
          rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
          rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
          rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
          rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
          rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO

          vlan 1

          hardware forwarding unicast trace

          interface Loopback0
              description not connected
              shutdown

          interface mgmt0
              description to port6.Unmanaged Switch 02
              no shutdown

          interface Ethernet1/1
              description to Ethernet1/3.Leaf1 NXOS-9000
              no shutdown

          interface Ethernet1/2
              description to Ethernet1/4.Leaf1 NXOS-9000
              no shutdown

          interface Ethernet1/3
              description to Ethernet1/3.Leaf2 NSOX-9000
              no shutdown

          interface Ethernet1/4
              description to Ethernet1/4.Leaf2 NSOX-9000
              no shutdown

          interface Ethernet1/5
              description to Ethernet1/3.Leaf3 NXOS-9000
              no shutdown

          interface Ethernet1/6
              description to Ethernet1/4.Leaf3 NXOS-9000
              no shutdown

          interface Ethernet1/7
              description to Ethernet1/3.Leaf4 NXOS-9000
              no shutdown

          interface Ethernet1/8
              description to Ethernet1/4.Leaf4 NXOS-9000
              no shutdown


          line console
          line vty

          # workaround for booting to loader> prompt
          echo 'from cli import cli' > set_boot.py
          echo 'import json' >> set_boot.py
          echo 'import os' >> set_boot.py
          echo 'import time' >> set_boot.py
          echo 'bootimage = json.loads(cli("show version | json"))["nxos_file_name"]' >> set_boot.py
          echo 'set_boot = cli("conf t ; boot nxos {} ; no event manager applet BOOTCONFIG".format(bootimage))' >> set_boot.py
          echo 'i = 0' >> set_boot.py
          echo 'while i < 10:' >> set_boot.py
          echo '    try:' >> set_boot.py
          echo '        save_config = cli("copy running-config startup-config")' >> set_boot.py
          echo '        break' >> set_boot.py
          echo '    except Exception:' >> set_boot.py
          echo '        i += 1' >> set_boot.py
          echo '        time.sleep(1)' >> set_boot.py
          echo 'os.remove("/bootflash/set_boot.py")' >> set_boot.py
          event manager applet BOOTCONFIG
           event syslog pattern "Configured from vty"
           action 1.0 cli python bootflash:set_boot.py
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n5
    image_definition: null
    label: Spine-02
    node_definition: nxosv9000
    parameters: {}
    ram: 8192
    tags:
      - Spine
    x: -360
    y: -40
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: mgmt0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        mac_address: null
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        mac_address: null
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        mac_address: null
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        mac_address: null
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        mac_address: null
        slot: 8
        type: physical
  - boot_disk_size: null
    configuration:
      - name: day0-config
        content: |-
          ! ASAv Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          hostname internalfwasav02
          username cisco password Cisco1@3 privilege 15
          enable password Cisco1@3
          passwd Cisco1@3
          names

          interface Management0/0
              description to port5.Unmanaged Switch 01
              no ip address
              duplex full
              no shutdown
          interface GigabitEthernet0/0
              description to Ethernet1/5.Leaf2 NSOX-9000
              no ip address
              duplex full
              no shutdown
          interface GigabitEthernet0/1
              description to Ethernet1/5.Leaf3 NXOS-9000
              no ip address
              duplex full
              no shutdown
          interface GigabitEthernet0/2
              description not connected
              no ip address
              duplex full
              shutdown
          interface GigabitEthernet0/3
              description to Ethernet1/6.Leaf2 NSOX-9000
              no ip address
              duplex full
              no shutdown
          interface GigabitEthernet0/4
              description to Ethernet1/6.Leaf3 NXOS-9000
              no ip address
              duplex full
              no shutdown
          !
          same-security-traffic permit inter-interface
          logging enable
          logging asdm informational
          user-identity default-domain LOCAL
          aaa authentication ssh console LOCAL
          http server enable
          http 0.0.0.0 0.0.0.0 mgmt
          ssh 0.0.0.0 0.0.0.0 mgmt
          telnet 0.0.0.0 0.0.0.0 mgmt
          http 0.0.0.0 0.0.0.0 outside
          ssh 0.0.0.0 0.0.0.0 outside
          telnet 0.0.0.0 0.0.0.0 outside
          http 0.0.0.0 0.0.0.0 outside-1
          ssh 0.0.0.0 0.0.0.0 outside-1
          telnet 0.0.0.0 0.0.0.0 outside-1
          ssh version 2
          crypto key generate rsa modulus 2048
          telnet timeout 15
          console timeout 0
          !
          no call-home reporting anonymous
          call-home
           profile CiscoTAC-1
            no active
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n6
    image_definition: null
    label: FW-ASAv
    node_definition: asav
    parameters: {}
    ram: null
    tags: []
    x: -560
    y: 160
    interfaces:
      - id: i0
        label: Management0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i1
        label: GigabitEthernet0/0
        mac_address: null
        slot: 1
        type: physical
      - id: i2
        label: GigabitEthernet0/1
        mac_address: null
        slot: 2
        type: physical
      - id: i3
        label: GigabitEthernet0/2
        mac_address: null
        slot: 3
        type: physical
      - id: i4
        label: GigabitEthernet0/3
        mac_address: null
        slot: 4
        type: physical
      - id: i5
        label: GigabitEthernet0/4
        mac_address: null
        slot: 5
        type: physical
  - boot_disk_size: null
    configuration:
      - name: nxos_config.txt
        content: |-
          ! NX-OS 9000 Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          hostname leaf1nxos-9000
          vdc leaf1nxos-9000 id 1
            allocate interface Ethernet1/1-48
            limit-resource vlan minimum 16 maximum 4094
            limit-resource vrf minimum 2 maximum 4096
            limit-resource port-channel minimum 0 maximum 511
            limit-resource u4route-mem minimum 96 maximum 96
            limit-resource u6route-mem minimum 24 maximum 24
            limit-resource m4route-mem minimum 58 maximum 58
            limit-resource m6route-mem minimum 8 maximum 8

          feature telnet

          no password strength-check
          username adminbackup password 5 ! role network-operator
          username admin password cisco role network-admin
          username cisco password cisco role network-operator
          username cisco role network-admin
          username lab password cisco role network-admin
          ip domain-lookup
          copp profile strict
          snmp-server user lab network-admin auth md5 0x5ceb414591539ee35159fca86fdfa101 priv 0x5ceb414591539ee35159fca86fdfa101 localizedkey
          snmp-server user admin network-admin auth md5 0x328945d53e05e8e7207f8c20b142f0b7 priv 0x328945d53e05e8e7207f8c20b142f0b7 localizedkey
          snmp-server user cisco network-operator auth md5 0x55b3c64a53fb95518e75358ee75e82e9 priv 0x55b3c64a53fb95518e75358ee75e82e9 localizedkey
          snmp-server user cisco network-admin
          rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
          rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
          rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
          rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
          rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO

          vlan 1

          hardware forwarding unicast trace

          interface Loopback0
              description not connected
              shutdown

          interface mgmt0
              description to port1.Unmanaged Switch 02
              no shutdown

          interface Ethernet1/1
              description to Ethernet1/1.Spine1 NXOS-9000
              no shutdown

          interface Ethernet1/2
              description to Ethernet1/2.Spine1 NXOS-9000
              no shutdown

          interface Ethernet1/3
              description to Ethernet1/1.Spine2 NXOS-9000
              no shutdown

          interface Ethernet1/4
              description to Ethernet1/2.Spine2 NXOS-9000
              no shutdown

          interface Ethernet1/5
              description to GigabitEthernet0/1.External FW - ASAv01
              no shutdown

          interface Ethernet1/6
              description to GigabitEthernet0/2.External FW - ASAv01
              no shutdown

          interface Ethernet1/7
              description to GigabitEthernet1/0.Access-SW-Internal
              no shutdown

          interface Ethernet1/8
              description to GigabitEthernet1/1.Access-SW-Internal
              no shutdown


          line console
          line vty

          # workaround for booting to loader> prompt
          echo 'from cli import cli' > set_boot.py
          echo 'import json' >> set_boot.py
          echo 'import os' >> set_boot.py
          echo 'import time' >> set_boot.py
          echo 'bootimage = json.loads(cli("show version | json"))["nxos_file_name"]' >> set_boot.py
          echo 'set_boot = cli("conf t ; boot nxos {} ; no event manager applet BOOTCONFIG".format(bootimage))' >> set_boot.py
          echo 'i = 0' >> set_boot.py
          echo 'while i < 10:' >> set_boot.py
          echo '    try:' >> set_boot.py
          echo '        save_config = cli("copy running-config startup-config")' >> set_boot.py
          echo '        break' >> set_boot.py
          echo '    except Exception:' >> set_boot.py
          echo '        i += 1' >> set_boot.py
          echo '        time.sleep(1)' >> set_boot.py
          echo 'os.remove("/bootflash/set_boot.py")' >> set_boot.py
          event manager applet BOOTCONFIG
           event syslog pattern "Configured from vty"
           action 1.0 cli python bootflash:set_boot.py
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n7
    image_definition: null
    label: Leaf1 NXOS-9000
    node_definition: nxosv9000
    parameters: {}
    ram: 8192
    tags:
      - Leafs
    x: -680
    y: 360
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: mgmt0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        mac_address: null
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        mac_address: null
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        mac_address: null
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        mac_address: null
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        mac_address: null
        slot: 8
        type: physical
  - boot_disk_size: null
    configuration:
      - name: nxos_config.txt
        content: |-
          ! NX-OS 9000 Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          hostname leaf2nsox-9000
          vdc leaf2nsox-9000 id 1
            allocate interface Ethernet1/1-48
            limit-resource vlan minimum 16 maximum 4094
            limit-resource vrf minimum 2 maximum 4096
            limit-resource port-channel minimum 0 maximum 511
            limit-resource u4route-mem minimum 96 maximum 96
            limit-resource u6route-mem minimum 24 maximum 24
            limit-resource m4route-mem minimum 58 maximum 58
            limit-resource m6route-mem minimum 8 maximum 8

          feature telnet

          no password strength-check
          username adminbackup password 5 ! role network-operator
          username admin password cisco role network-admin
          username cisco password cisco role network-operator
          username cisco role network-admin
          username lab password cisco role network-admin
          ip domain-lookup
          copp profile strict
          snmp-server user lab network-admin auth md5 0x5ceb414591539ee35159fca86fdfa101 priv 0x5ceb414591539ee35159fca86fdfa101 localizedkey
          snmp-server user admin network-admin auth md5 0x328945d53e05e8e7207f8c20b142f0b7 priv 0x328945d53e05e8e7207f8c20b142f0b7 localizedkey
          snmp-server user cisco network-operator auth md5 0x55b3c64a53fb95518e75358ee75e82e9 priv 0x55b3c64a53fb95518e75358ee75e82e9 localizedkey
          snmp-server user cisco network-admin
          rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
          rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
          rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
          rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
          rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO

          vlan 1

          hardware forwarding unicast trace

          interface Loopback0
              description not connected
              shutdown

          interface mgmt0
              description to port2.Unmanaged Switch 02
              no shutdown

          interface Ethernet1/1
              description to Ethernet1/3.Spine1 NXOS-9000
              no shutdown

          interface Ethernet1/2
              description to Ethernet1/4.Spine1 NXOS-9000
              no shutdown

          interface Ethernet1/3
              description to Ethernet1/3.Spine2 NXOS-9000
              no shutdown

          interface Ethernet1/4
              description to Ethernet1/4.Spine2 NXOS-9000
              no shutdown

          interface Ethernet1/5
              description to GigabitEthernet0/0.Internal FW ASAv02
              no shutdown

          interface Ethernet1/6
              description to GigabitEthernet0/3.Internal FW ASAv02
              no shutdown

          interface Ethernet1/7
              description to GigabitEthernet1/0.Access-SW-Web
              no shutdown

          interface Ethernet1/8
              description to GigabitEthernet1/1.Access-SW-Web
              no shutdown

          interface Ethernet1/9
              description to eth1.F5-BIGIP
              no shutdown


          line console
          line vty

          # workaround for booting to loader> prompt
          echo 'from cli import cli' > set_boot.py
          echo 'import json' >> set_boot.py
          echo 'import os' >> set_boot.py
          echo 'import time' >> set_boot.py
          echo 'bootimage = json.loads(cli("show version | json"))["nxos_file_name"]' >> set_boot.py
          echo 'set_boot = cli("conf t ; boot nxos {} ; no event manager applet BOOTCONFIG".format(bootimage))' >> set_boot.py
          echo 'i = 0' >> set_boot.py
          echo 'while i < 10:' >> set_boot.py
          echo '    try:' >> set_boot.py
          echo '        save_config = cli("copy running-config startup-config")' >> set_boot.py
          echo '        break' >> set_boot.py
          echo '    except Exception:' >> set_boot.py
          echo '        i += 1' >> set_boot.py
          echo '        time.sleep(1)' >> set_boot.py
          echo 'os.remove("/bootflash/set_boot.py")' >> set_boot.py
          event manager applet BOOTCONFIG
           event syslog pattern "Configured from vty"
           action 1.0 cli python bootflash:set_boot.py
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n8
    image_definition: null
    label: Leaf2 NSOX-9000
    node_definition: nxosv9000
    parameters: {}
    ram: 8192
    tags:
      - Leafs
    x: -280
    y: 360
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: mgmt0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: Ethernet1/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: Ethernet1/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: Ethernet1/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: Ethernet1/4
        mac_address: null
        slot: 4
        type: physical
      - id: i6
        label: Ethernet1/5
        mac_address: null
        slot: 5
        type: physical
      - id: i7
        label: Ethernet1/6
        mac_address: null
        slot: 6
        type: physical
      - id: i8
        label: Ethernet1/7
        mac_address: null
        slot: 7
        type: physical
      - id: i9
        label: Ethernet1/8
        mac_address: null
        slot: 8
        type: physical
      - id: i10
        label: Ethernet1/9
        mac_address: null
        slot: 9
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          ! IOSvL2 Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          version 15.2
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          service compress-config
          no service config
          enable password cisco
          ip classless
          ip subnet-zero
          no ip domain lookup
          !
          line vty 0 4
          transport input ssh telnet
          exec-timeout 720 0
          password cisco
          login
          !
          line con 0
          password cisco
          !
          hostname access-sw-internal
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no aaa new-model
          !
          vtp domain virl.lab
          vtp mode transparent
          !
          vlan 2
            name ank_vlan2
          !
          !
          no cdp run
          !
          !
          ip cef
          no ipv6 cef
          !
          spanning-tree mode pvst
          spanning-tree extend system-id
          !
          vlan internal allocation policy ascending
          !
          !
          vrf definition Mgmt-intf
          !
           address-family ipv4
           exit-address-family
           !
           address-family ipv6
           exit-address-family
          !
          !
          interface Loopback0
              description not connected
              shutdown
          interface GigabitEthernet0/0
              description to port6.Unmanaged Switch 01
              no shutdown
          interface GigabitEthernet0/1
              description not connected
              shutdown
          interface GigabitEthernet0/2
              description not connected
              shutdown
          interface GigabitEthernet0/3
              description not connected
              shutdown
          interface GigabitEthernet1/0
              description to Ethernet1/7.Leaf1 NXOS-9000
              no shutdown
          interface GigabitEthernet1/1
              description to Ethernet1/8.Leaf1 NXOS-9000
              no shutdown
          !
          !
          ip forward-protocol nd
          !
          no ip http server
          no ip http secure-server
          !
          !
          control-plane
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n9
    image_definition: null
    label: Access-SW-Internal
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: -760
    y: 560
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: GigabitEthernet0/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: GigabitEthernet1/0
        mac_address: null
        slot: 4
        type: physical
      - id: i6
        label: GigabitEthernet1/1
        mac_address: null
        slot: 5
        type: physical
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n10
    image_definition: null
    label: External
    node_definition: external_connector
    parameters: {}
    ram: null
    tags: []
    x: -480
    y: -360
    interfaces:
      - id: i0
        label: port
        mac_address: null
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n11
    image_definition: null
    label: Unmanaged Switch 02
    node_definition: unmanaged_switch
    parameters: {}
    ram: null
    tags:
      - MGMT
    x: 0
    y: 160
    interfaces:
      - id: i0
        label: port0
        mac_address: null
        slot: 0
        type: physical
      - id: i1
        label: port1
        mac_address: null
        slot: 1
        type: physical
      - id: i2
        label: port2
        mac_address: null
        slot: 2
        type: physical
      - id: i3
        label: port3
        mac_address: null
        slot: 3
        type: physical
      - id: i4
        label: port4
        mac_address: null
        slot: 4
        type: physical
      - id: i5
        label: port5
        mac_address: null
        slot: 5
        type: physical
      - id: i6
        label: port6
        mac_address: null
        slot: 6
        type: physical
      - id: i7
        label: port7
        mac_address: null
        slot: 7
        type: physical
  - boot_disk_size: null
    configuration:
      - name: default
        content: System Bridge
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n12
    image_definition: null
    label: Management Subnet 01
    node_definition: external_connector
    parameters: {}
    ram: null
    tags:
      - MGMT
    x: 0
    y: -80
    interfaces:
      - id: i0
        label: port
        mac_address: null
        slot: 0
        type: physical
  - boot_disk_size: null
    configuration:
      - name: ios_config.txt
        content: |-
          ! IOSvL2 Config generated on 2025-07-20 03:13
          ! by ank-ng
          !
          version 15.2
          service timestamps debug datetime msec
          service timestamps log datetime msec
          no service password-encryption
          service compress-config
          no service config
          enable password cisco
          ip classless
          ip subnet-zero
          no ip domain lookup
          !
          line vty 0 4
          transport input ssh telnet
          exec-timeout 720 0
          password cisco
          login
          !
          line con 0
          password cisco
          !
          hostname access-sw-web
          !
          boot-start-marker
          boot-end-marker
          !
          !
          no aaa new-model
          !
          vtp domain virl.lab
          vtp mode transparent
          !
          vlan 2
            name ank_vlan2
          !
          !
          no cdp run
          !
          !
          ip cef
          no ipv6 cef
          !
          spanning-tree mode pvst
          spanning-tree extend system-id
          !
          vlan internal allocation policy ascending
          !
          !
          vrf definition Mgmt-intf
          !
           address-family ipv4
           exit-address-family
           !
           address-family ipv6
           exit-address-family
          !
          !
          interface Loopback0
              description not connected
              shutdown
          interface GigabitEthernet0/0
              description to port4.Unmanaged Switch 01
              no shutdown
          interface GigabitEthernet0/1
              description not connected
              shutdown
          interface GigabitEthernet0/2
              description not connected
              shutdown
          interface GigabitEthernet0/3
              description not connected
              shutdown
          interface GigabitEthernet1/0
              description to Ethernet1/7.Leaf2 NSOX-9000
              no shutdown
          interface GigabitEthernet1/1
              description to Ethernet1/8.Leaf2 NSOX-9000
              no shutdown
          !
          !
          ip forward-protocol nd
          !
          no ip http server
          no ip http secure-server
          !
          !
          control-plane
          !
          end
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n13
    image_definition: null
    label: Access-SW-Database
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: -160
    y: 560
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: GigabitEthernet0/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: GigabitEthernet1/0
        mac_address: null
        slot: 4
        type: physical
      - id: i6
        label: GigabitEthernet1/1
        mac_address: null
        slot: 5
        type: physical
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n14
    image_definition: null
    label: Access-SW-Services
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: -600
    y: 560
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: GigabitEthernet0/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: GigabitEthernet1/0
        mac_address: null
        slot: 4
        type: physical
  - boot_disk_size: null
    configuration: []
    cpu_limit: null
    cpus: null
    data_volume: null
    hide_links: false
    id: n15
    image_definition: null
    label: Access-SW-Web
    node_definition: iosvl2
    parameters: {}
    ram: null
    tags: []
    x: -360
    y: 560
    interfaces:
      - id: i0
        label: Loopback0
        mac_address: null
        type: loopback
      - id: i1
        label: GigabitEthernet0/0
        mac_address: null
        slot: 0
        type: physical
      - id: i2
        label: GigabitEthernet0/1
        mac_address: null
        slot: 1
        type: physical
      - id: i3
        label: GigabitEthernet0/2
        mac_address: null
        slot: 2
        type: physical
      - id: i4
        label: GigabitEthernet0/3
        mac_address: null
        slot: 3
        type: physical
      - id: i5
        label: GigabitEthernet1/0
        mac_address: null
        slot: 4
        type: physical
links:
  - id: l0
    n1: n1
    n2: n0
    i1: i0
    i2: i0
    conditioning: {}
    label: ext-conn-1-port<->unmanaged-switch-0-port0
  - id: l1
    n1: n12
    n2: n11
    i1: i0
    i2: i0
    conditioning: {}
    label: Management Subnet 01-port<->Unmanaged Switch 02-port0
  - id: l2
    n1: n0
    n2: n4
    i1: i1
    i2: i1
    conditioning: {}
    label: Unmanaged Switch 01-port1<->Spine1 NXOS-9000-mgmt0
  - id: l3
    n1: n0
    n2: n3
    i1: i3
    i2: i1
    conditioning: {}
    label: Unmanaged Switch 01-port3<->external-router CSR1000X-GigabitEthernet1
  - id: l4
    n1: n0
    n2: n6
    i1: i5
    i2: i0
    conditioning: {}
    label: Unmanaged Switch 01-port5<->Internal FW ASAv02-Management0/0
  - id: l5
    n1: n11
    n2: n7
    i1: i1
    i2: i1
    conditioning: {}
    label: Unmanaged Switch 02-port1<->Leaf1 NXOS-9000-mgmt0
  - id: l6
    n1: n11
    n2: n8
    i1: i2
    i2: i1
    conditioning: {}
    label: Unmanaged Switch 02-port2<->Leaf2 NSOX-9000-mgmt0
  - id: l7
    n1: n11
    n2: n2
    i1: i5
    i2: i0
    conditioning: {}
    label: Unmanaged Switch 02-port5<->bigip-0-eth0
  - id: l8
    n1: n0
    n2: n9
    i1: i6
    i2: i1
    conditioning: {}
    label: Unmanaged Switch 01-port6<->iosvl2-0-GigabitEthernet0/0
  - id: l9
    n1: n4
    n2: n7
    i1: i2
    i2: i2
    conditioning: {}
    label: Spine1 NXOS-9000-Ethernet1/1<->Leaf1 NXOS-9000-Ethernet1/1
  - id: l10
    n1: n4
    n2: n7
    i1: i3
    i2: i3
    conditioning: {}
    label: Spine1 NXOS-9000-Ethernet1/2<->Leaf1 NXOS-9000-Ethernet1/2
  - id: l11
    n1: n4
    n2: n8
    i1: i4
    i2: i2
    conditioning: {}
    label: Spine1 NXOS-9000-Ethernet1/3<->Leaf2 NSOX-9000-Ethernet1/1
  - id: l12
    n1: n4
    n2: n8
    i1: i5
    i2: i3
    conditioning: {}
    label: Spine1 NXOS-9000-Ethernet1/4<->Leaf2 NSOX-9000-Ethernet1/2
  - id: l13
    n1: n5
    n2: n7
    i1: i2
    i2: i4
    conditioning: {}
    label: Spine2 NXOS-9000-Ethernet1/1<->Leaf1 NXOS-9000-Ethernet1/3
  - id: l14
    n1: n5
    n2: n7
    i1: i3
    i2: i5
    conditioning: {}
    label: Spine2 NXOS-9000-Ethernet1/2<->Leaf1 NXOS-9000-Ethernet1/4
  - id: l15
    n1: n5
    n2: n8
    i1: i4
    i2: i4
    conditioning: {}
    label: Spine2 NXOS-9000-Ethernet1/3<->Leaf2 NSOX-9000-Ethernet1/3
  - id: l16
    n1: n5
    n2: n8
    i1: i5
    i2: i5
    conditioning: {}
    label: Spine2 NXOS-9000-Ethernet1/4<->Leaf2 NSOX-9000-Ethernet1/4
  - id: l17
    n1: n11
    n2: n5
    i1: i6
    i2: i1
    conditioning: {}
    label: Unmanaged Switch 02-port6<->Spine2 NXOS-9000-mgmt0
  - id: l18
    n1: n13
    n2: n11
    i1: i1
    i2: i4
    conditioning: {}
    label: Access-SW-Web-GigabitEthernet0/0<->Unmanaged Switch 02-port4
  - id: l19
    n1: n14
    n2: n0
    i1: i1
    i2: i4
    conditioning: {}
    label: iosvl2-0-GigabitEthernet0/0<->Unmanaged Switch 01-port4
  - id: l20
    n1: n15
    n2: n11
    i1: i1
    i2: i3
    conditioning: {}
    label: iosvl2-1-GigabitEthernet0/0<->Unmanaged Switch 02-port3
  - id: l21
    n1: n7
    n2: n9
    i1: i7
    i2: i5
    conditioning: {}
    label: Leaf1 NXOS-9000-Ethernet1/6<->Access-SW-Internal-GigabitEthernet1/0
  - id: l22
    n1: n7
    n2: n14
    i1: i8
    i2: i5
    conditioning: {}
    label: Leaf1 NXOS-9000-Ethernet1/7<->iosvl2-0-GigabitEthernet1/0
  - id: l23
    n1: n8
    n2: n15
    i1: i7
    i2: i5
    conditioning: {}
    label: Leaf2 NSOX-9000-Ethernet1/6<->Access-SW-Web-GigabitEthernet1/0
  - id: l24
    n1: n8
    n2: n13
    i1: i8
    i2: i5
    conditioning: {}
    label: Leaf2 NSOX-9000-Ethernet1/7<->Access-SW-Database-GigabitEthernet1/0
  - id: l25
    n1: n2
    n2: n7
    i1: i1
    i2: i9
    conditioning: {}
    label: F5-BIGIP-eth1<->Leaf1 NXOS-9000-Ethernet1/8
  - id: l26
    n1: n2
    n2: n8
    i1: i2
    i2: i9
    conditioning: {}
    label: F5-BIGIP-eth2<->Leaf2 NSOX-9000-Ethernet1/8
  - id: l27
    n1: n6
    n2: n7
    i1: i2
    i2: i6
    conditioning: {}
    label: FW-ASAv-GigabitEthernet0/1<->Leaf1 NXOS-9000-Ethernet1/5
lab:
  description: ''
  notes: ''
  title: Lab at Sat 15:16 PM
  version: 0.3.0
